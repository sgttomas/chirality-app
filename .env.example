# Chirality AI App Environment Configuration

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# OpenAI API Configuration (REQUIRED)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# Model Selection (REQUIRED)
# Recommended: gpt-4.1-nano for optimal balance of quality and speed
OPENAI_MODEL=gpt-4.1-nano

# ============================================================================
# APPLICATION SETTINGS  
# ============================================================================

# Next.js Development Server
PORT=3001
NODE_ENV=development

# Application Identity
NEXT_PUBLIC_APP_NAME=Chirality AI App
NEXT_PUBLIC_DEBUG=0

# Document Generation Settings
DEFAULT_TEMPERATURE=0.6
MAX_OUTPUT_TOKENS=800
GENERATION_TIMEOUT_MS=120000

# Three-Pass Orchestration (Current Standard)
CHIRALITY_ORCHESTRATION_MODE=three_pass

# New Pipeline Feature Flags
# NEW_PIPELINE_ENABLED: Enable semantic valley traversal pipeline (S0-S8 stations)
# When true, /api/core/orchestrate routes through new nine-station pipeline
NEW_PIPELINE_ENABLED=false

# FEATURE_GRAPH_ENABLED: Enable Neo4j graph integration and related endpoints
# Requires Neo4j setup (see NEO4J_* configuration below)
FEATURE_GRAPH_ENABLED=false

# ============================================================================
# RAG AND CHAT CONFIGURATION
# ============================================================================

# RAG Indexing Limits
RAG_MAX_DOCS=200
RAG_MAX_MB=5
RAG_CHUNK=900
RAG_OVERLAP=120

# Chat Interface Settings
RAG_CONTEXT_LIMIT=4000
CHAT_HISTORY_LIMIT=50
STREAM_RESPONSE_DELAY=50

# Development Fallback (disable in production)
RAG_DEV_FALLBACK=true

# ============================================================================
# MATRIX INTEGRATION (OPTIONAL)
# ============================================================================

# Framework Integration
FRAMEWORK_INTEGRATION_ENABLED=true
FRAMEWORK_RUNS_DIR=fixtures/runs
FRAMEWORK_VALIDATION_STRICT=false

# Agent Orchestration
AGENT_PHASE_TIMING=true
AGENT_VALIDATION_ENABLED=true
AGENT_TIMEOUT_MS=300000

# ============================================================================
# ENTERPRISE FEATURES (OPTIONAL)
# ============================================================================

# Role-Based Access Control
RBAC_ENABLED=false
RBAC_APPROVER_ROLE=approver
RBAC_DEFAULT_ROLE=user

# Audit Logging (SOC2 Compliance)
AUDIT_LOGGING_ENABLED=false
AUDIT_LOG_LEVEL=info
AUDIT_LOG_FORMAT=json

# Export Security
EXPORT_REQUIRES_APPROVAL=false
EXPORT_MAX_SIZE_MB=100
EXPORT_TIMEOUT_MS=60000

# ============================================================================
# ALTERNATIVE AI PROVIDERS (OPTIONAL)
# ============================================================================

# Gemini API
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-pro

# Claude API  
CLAUDE_API_KEY=your-claude-api-key-here
CLAUDE_MODEL=claude-3-sonnet

# Local Model Configuration
LOCAL_MODEL_ENABLED=false
LOCAL_MODEL_ENDPOINT=http://localhost:11434
LOCAL_MODEL_NAME=llama3

# ============================================================================
# STORAGE AND PERSISTENCE
# ============================================================================

# File Storage Settings
CHIRALITY_STORE_DIR=./store
STATE_PERSISTENCE_ASYNC=true
STATE_VALIDATION_ON_LOAD=true
STATE_ATOMIC_WRITES=true

# Legacy Configuration (deprecated)
MAX_CORPUS_DOCS=100
MAX_CORPUS_SIZE_MB=50

# ============================================================================
# NEO4J GRAPH INTEGRATION (OPTIONAL)
# ============================================================================

# Graph Features Toggle (requires Neo4j setup)
FEATURE_GRAPH_ENABLED=false

# Neo4j Database Connection
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your-neo4j-password

# GraphQL API Security
GRAPHQL_BEARER_TOKEN=your-secure-random-token-here
GRAPHQL_CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Graph Mirror Settings
GRAPH_COMPONENT_SCORE_THRESHOLD=3
GRAPH_SELECTION_ALGORITHM_VERSION=1.0.0
GRAPH_MIRROR_ASYNC=true